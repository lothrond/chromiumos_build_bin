========================
  chromiumos_build_bin
========================

Chromium OS build helper scripts.

--------------
 Requirements 
--------------

 o RAM: 8-16GB
 o Disk Space: 135-250GB
 o Network: (decent speed)
 o (google account)

--------------
 Manual Setup
--------------

  00. Start by cloning this repository into ~/bin:
        $ git clone https://github.com/lothrond/chromiumos-build-bin ~/bin

  01. Change into it:
        $ cd ~/bin

  02. Source build ENVIRONMENT for host:
        $ source environment/host.sh

  03. Install git and curl (and lvm tools):
        $ ./install_git_and_curl.sh

  04. Configure git:
        $ ./configure_git.sh

  05. Tweak the sudoers config file:
        $ ./tweak_sudoers_config.sh

  06. Install depot_tools:
        $ ./install_depot_tools.sh

  07. Setup gerrit code review, (see docs/README-GERRIT).

  08. Get the source code:
        $ ./source_checkout.sh

  09. Add google API keys, (see docs/README-APIKEYS).

  10. Setup authorization for google storage buckets, (see docs/README-GSBUCKETS).

--------------
 Manual Build
--------------

  00. Make sure you have ~/.googleapikeys populated correctly! (see docs/README-APIKEYS).

  01. Share directories with the chroot, (see docs/README-SHARING):
        $ ./share_dirs.sh

      (After running this command, you will have ~/builder inside of your chroot.)

  02. Create chroot:
        $ cd ${SOURCE_REPO} && cros_sdk

      ** This will take some time.

      When the previous command finishes, you should now be in the chroot, indicated  with
      a bash prompt:
         (cr) $

      (The rest of this document assumes so.)

  03. Inside the chroot:

      Select your board (see docs/README-BOARDS):
        (cr) $ export BOARD=cyan

      Select your disk image build (test/dev/base):
        (cr) $ export IMAGE=test

      Select verified boot mode (on/off):
        (cr) $ export VERITY=off

     OR

      (If you ran share-dirs.sh),

      Source build ENVIRONMENT for chroot:
        (cr) source ~/build/chroot.sh

      ** This repository defaults to building base images, with verified boot, for cyan boards.

      ** If you would like to build for another board, you will need to modify chroot.sh 
         before buidling the image.

  4. Build chromiumos:
       (cr) $ . ~/build/build_os

------
 Test
------

  (Make sure you are in this directory):

  0. Mount:
       (cr) $ ./mount_disk_image

  1. (Test)

  2. Unmount:
       (cr) $ ./unmount_disk_image

---------
 Install
---------

 00. Flash Chromium OS on to a usb stick.
       (cr) $ ./flash_image_usb

     **WARNING: this will of course format the usb stick**

 01. Make sure the Chrome OS device is in developer mode (see docs/README-DEVMODE).



